<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE test SYSTEM "dom1.dtd">
<test xmlns="http://www.w3.org/2001/DOM-Test-Suite/Level-1" name="characterdataappenddatanomodificationallowederrEE">
<metadata>
<title>characterdataAppendDataNoModificationAllowedErrEE</title>
<creator>NIST</creator>
<description>
    The "appendData(arg)" method raises a NO_MODIFICATION_ALLOWED_ERR 
   DOMException if the node is readonly.  
   Add an entity reference to the THIRD "gender" element.  The elements
   content is an entity reference.  Get the FIRST item 
   from the entity reference and execute the "appendData(arg)" method.
   This causes a NO_MODIFICATION_ALLOWED_ERR DOMException to be thrown.
</description>
<contributor>Mary Brady</contributor>
<date qualifier="created">2001-08-17</date>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#xpointer(id('ID-258A00AF')/constant[@name='NO_MODIFICATION_ALLOWED_ERR'])"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#ID-32791A2F"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#xpointer(id('ID-32791A2F')/raises/exception[@name='DOMException']/descr/p[substring-before(.,':')='NO_MODIFICATION_ALLOWED_ERR'])"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#ID-72AB8359"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#ID-32791A2F"/>
</metadata>
<var name="doc" type="Document"/>
<var name="genderList" type="NodeList"/>
<var name="genderNode" type="Node"/>
<var name="entText" type="Node"/>
<var name="entReference" type="EntityReference"/>
<var name="appendedChild" type="Node"/>
<load var="doc" href="staff.xml" willBeModified="true"/>
<getElementsByTagName interface="Document" obj="doc" tagname="&quot;gender&quot;" var="genderList"/>
<item interface="NodeList" obj="genderList" index="2" var="genderNode"/>
<createEntityReference var="entReference" obj="doc" name='"ent3"'/>
<appendChild obj="genderNode" newChild="entReference" var="appendedChild"/>
<firstChild var="entText" obj="entReference" interface="Node"/>
<assertDOMException id="throw_NO_MODIFICATION_ALLOWED_ERR">
    <NO_MODIFICATION_ALLOWED_ERR>
        <appendData obj="entText" arg="&quot;newString&quot;"/>
    </NO_MODIFICATION_ALLOWED_ERR>
</assertDOMException>
</test>
