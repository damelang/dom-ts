<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE test SYSTEM "dom1.dtd">
<test xmlns="http://www.w3.org/2001/DOM-Test-Suite/Level-1" name="elementremoveattributenomodificationallowederrEE">
<metadata>
<title>elementRemoveAttributeNoModificationAllowedErr</title>
<creator>NIST</creator>
<description>
    The "removeAttribute(name)" method for an attribute causes the 
   DOMException NO_MODIFICATION_ALLOWED_ERR to be raised
   if the node is readonly.
   
   Create an reference the entity ent4 and add it to the THIRD "gender" element.  
   Try to remove the "domestic" attribute from the entity reference by executing the "removeAttribute(name)" method.
   This causes a NO_MODIFICATION_ALLOWED_ERR DOMException to be thrown.
</description>
<contributor>Mary Brady</contributor>
<contributor>Curt Arnold</contributor>
<date qualifier="created">2001-08-17</date>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#xpointer(id('ID-258A00AF')/constant[@name='NO_MODIFICATION_ALLOWED_ERR'])"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#ID-6D6AC0F9"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#xpointer(id('ID-6D6AC0F9')/raises/exception[@name='DOMException']/descr/p[substring-before(.,':')='NO_MODIFICATION_ALLOWED_ERR'])"/>
<subject resource="http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core#ID-6D6AC0F9"/>
</metadata>
<var name="doc" type="Document"/>
<var name="genderList" type="NodeList"/>
<var name="gender" type="Node"/>
<var name="entRef" type="EntityReference"/>
<var name="entElement" type="Element"/>
<var name="attrList" type="NamedNodeMap"/>
<var name="attrNode" type="Node"/>
<var name="appendedChild" type="Node"/>
<load var="doc" href="staff.xml" willBeModified="true"/>
<getElementsByTagName interface="Document" obj="doc" var="genderList" tagname="&quot;gender&quot;"/>
<item interface="NodeList" obj="genderList" var="gender" index="2"/>
<createEntityReference obj="doc" var="entRef" name='"ent4"'/>
<appendChild obj="gender" newChild="entRef" var="appendedChild"/> 
<firstChild obj="entRef" var="entElement" interface="Node"/>
<assertDOMException id="throw_NO_MODIFICATION_ALLOWED_ERR">
<NO_MODIFICATION_ALLOWED_ERR>
<removeAttribute obj="entElement" name="&quot;domestic&quot;"/>
</NO_MODIFICATION_ALLOWED_ERR>
</assertDOMException>
</test>
